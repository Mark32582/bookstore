{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ejpor\\\\Projects\\\\bookstore\\\\src\\\\components\\\\LogonForm\\\\LogonForm.js\",\n  _s = $RefreshSig$();\nimport classNames from \"classnames\";\nimport { useState, useEffect } from \"react\";\nimport { signInWithEmailAndPassword } from \"firebase/auth\";\nimport { auth } from \"../../config/fireBaseConfig\";\nimport { useNavigate } from \"react-router-dom\";\nimport { collection, getDocs } from \"firebase/firestore\";\nimport { db } from \"../../config/fireBaseConfig\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LogonForm = props => {\n  _s();\n  const {\n    signOn,\n    setSignOn,\n    setVerified,\n    employee,\n    setEmployee\n  } = props;\n  const navigate = useNavigate();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [users, setUsers] = useState();\n  const [error, setError] = useState();\n  const onLogin = e => {\n    e.preventDefault();\n    signInWithEmailAndPassword(auth, email, password).then(userCredential => {\n      // Signed in\n      setVerified(true);\n      // if (employee === users?.employee) {\n      //   setEmployee(true);\n      // }\n      setTimeout(() => {\n        setError(undefined);\n      }, 500);\n      setTimeout(() => {\n        setSignOn(!signOn);\n      }, 750);\n      setTimeout(() => {\n        navigate(\"/\");\n      }, 1000);\n    }).catch(error => {\n      const errorCode = error.code;\n      const errorMessage = error.message;\n      setError(\"Invalid Username or Password\");\n    });\n  };\n  const fetchPost = async () => {\n    await getDocs(collection(db, \"users\")).then(querySnapshot => {\n      const newData = querySnapshot.docs.map(doc => ({\n        ...doc.data()\n\n        // id: doc.id,\n      }));\n      setUsers(newData[0]);\n    });\n  };\n  useEffect(() => {\n    fetchPost();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classNames({\n      \"hide-logon\": !signOn\n    }),\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-container-sign-on\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"logon-form\",\n        children: [error ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"error\",\n          children: [\" \", error, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 20\n        }, this) : null, /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"email\",\n          type: \"email\",\n          placeholder: \"E-mail\",\n          name: \"email\",\n          required: true,\n          autoComplete: \"on\",\n          onChange: e => setEmail(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"password\",\n          type: \"password\",\n          placeholder: \"Password\",\n          name: \"password\",\n          required: true,\n          autoComplete: \"on\",\n          onChange: e => setPassword(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onLogin,\n          className: \"signup-button\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n};\n_s(LogonForm, \"pG1hUreAbUnZCm4cxvaLZJtPQl8=\", false, function () {\n  return [useNavigate];\n});\n_c = LogonForm;\nexport default LogonForm;\nvar _c;\n$RefreshReg$(_c, \"LogonForm\");","map":{"version":3,"names":["classNames","useState","useEffect","signInWithEmailAndPassword","auth","useNavigate","collection","getDocs","db","jsxDEV","_jsxDEV","LogonForm","props","_s","signOn","setSignOn","setVerified","employee","setEmployee","navigate","email","setEmail","password","setPassword","users","setUsers","error","setError","onLogin","e","preventDefault","then","userCredential","setTimeout","undefined","catch","errorCode","code","errorMessage","message","fetchPost","querySnapshot","newData","docs","map","doc","data","className","children","fileName","_jsxFileName","lineNumber","columnNumber","id","type","placeholder","name","required","autoComplete","onChange","target","value","onClick","_c","$RefreshReg$"],"sources":["C:/Users/ejpor/Projects/bookstore/src/components/LogonForm/LogonForm.js"],"sourcesContent":["import classNames from \"classnames\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { signInWithEmailAndPassword } from \"firebase/auth\";\r\nimport { auth } from \"../../config/fireBaseConfig\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { collection, getDocs } from \"firebase/firestore\";\r\nimport { db } from \"../../config/fireBaseConfig\";\r\n\r\nconst LogonForm = (props) => {\r\n  const { signOn, setSignOn, setVerified, employee, setEmployee } = props;\r\n  const navigate = useNavigate();\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [users, setUsers] = useState();\r\n  const [error, setError] = useState();\r\n\r\n  const onLogin = (e) => {\r\n    e.preventDefault();\r\n    signInWithEmailAndPassword(auth, email, password)\r\n      .then((userCredential) => {\r\n        // Signed in\r\n        setVerified(true);\r\n        // if (employee === users?.employee) {\r\n        //   setEmployee(true);\r\n        // }\r\n        setTimeout(() => {\r\n          setError(undefined);\r\n        }, 500);\r\n        setTimeout(() => {\r\n          setSignOn(!signOn);\r\n        }, 750);\r\n        setTimeout(() => {\r\n          navigate(\"/\");\r\n        }, 1000);\r\n      })\r\n      .catch((error) => {\r\n        const errorCode = error.code;\r\n        const errorMessage = error.message;\r\n        setError(\"Invalid Username or Password\");\r\n      });\r\n  };\r\n\r\n  const fetchPost = async () => {\r\n    await getDocs(collection(db, \"users\")).then((querySnapshot) => {\r\n      const newData = querySnapshot.docs.map((doc) => ({\r\n        ...doc.data(),\r\n\r\n        // id: doc.id,\r\n      }));\r\n      setUsers(newData[0]);\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchPost();\r\n  }, []);\r\n  return (\r\n    <div className={classNames({ \"hide-logon\": !signOn })}>\r\n      <div className=\"form-container-sign-on\">\r\n        <form className=\"logon-form\">\r\n          {error ? <div className=\"error\"> {error} </div> : null}\r\n          <input\r\n            id=\"email\"\r\n            type=\"email\"\r\n            placeholder=\"E-mail\"\r\n            name=\"email\"\r\n            required\r\n            autoComplete=\"on\"\r\n            onChange={(e) => setEmail(e.target.value)}\r\n          />\r\n          <input\r\n            id=\"password\"\r\n            type=\"password\"\r\n            placeholder=\"Password\"\r\n            name=\"password\"\r\n            required\r\n            autoComplete=\"on\"\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          />\r\n          <button onClick={onLogin} className=\"signup-button\">\r\n            Login\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default LogonForm;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}